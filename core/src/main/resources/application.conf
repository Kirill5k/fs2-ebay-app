server {
  host: "0.0.0.0"
  host: ${?HOST}
  port: 7070
  port: ${?PORT}
}

client {
  connect-timeout: 2m
  proxy-host: ${?CLIENT_PROXY_HOST}
  proxy-port: ${?CLIENT_PROXY_PORT}
}

mongo {
  connection-uri: "mongodb+srv://"${?MONGO_USER}":"${?MONGO_PASSWORD}"@"${?MONGO_HOST}"/ebay-app"
  db-name: "ebay-app"
}

telegram {
  base-uri: "https://api.telegram.org"
  bot-key: ${?TELEGRAM_BOT_API_KEY}
  main-channel-id: ${?TELEGRAM_CHANNEL_ID}
  secondary-channel-id: ${?TELEGRAM_SECONDARY_CHANNEL_ID}
  alerts-channel-id: ${?TELEGRAM_ALERTS_CHANNEL_ID}
  headers: {}
}

retailer {
  cex {
    base-uri: "https://reqfol.fly.dev"
    headers {
      "X-Reroute-To": "https://lnnfeewzva-dsn.algolia.net"
      "X-Reload-On-403": "true"
      "Accept-Encoding": "*/*"
    }
    cache {
      expiration: 24h
      validation-period: 1h
    }
  }

  ebay {
    base-uri: "https://api.ebay.com"
    credentials: [

    ]
    search {
      min-feedback-score: 5
      min-feedback-percentage: 92
      max-listing-duration: 20m
    }
  }

  selfridges {
    base-uri: "https://reqfol.fly.dev"
    headers: {
      "api-key": "sh5d2d2ph9rgbps3ntrshxqn"
      "X-Reroute-To": "https://www.selfridges.com"
      "Accept-Encoding": "*/*"
    }
  }

  argos {
    base-uri: "https://www.argos.co.uk"
    headers: {}
  }

  jdsports {
    base-uri: "https://reqfol.fly.dev"
    headers {
      "X-Reroute-To": "https://www.jdsports.co.uk"
      "X-Reload-On-403": "true"
      "Accept-Encoding": "*/*"
    }
    delay-between-individual-requests: 2s
  }

  tessuti {
    base-uri: "https://fs2-proxy.herokuapp.com"
    headers: {}
  }

  scotts {
    base-uri: "https://fs2-proxy.herokuapp.com"
    headers: {}
  }

  nvidia {
    base-uri: "https://api.nvidia.partners"
    headers: {}
  }

  scan {
    base-uri: "https://www.scan.co.uk"
    headers: {}
  }

  harvey-nichols {
    base-uri: "https://www.harveynichols.com"
    headers {
      "Accept": "application/json, text/javascript, */*; q=0.01"
      "Accept-Encoding": "*/*"
    }
  }

  mainline-menswear {
    base-uri: "https://reqfol.fly.dev"
    //base-uri: "http://localhost:6060"
    //base-uri: "https://fs2-proxy.herokuapp.com"
    //base-uri: "https://request-follower-kirill5k.koyeb.app"
    headers {
      "X-Reroute-To": "https://livewebapi.mainlinemenswear.co.uk"
    }
  }

  flannels {
//    base-uri: "https://p01--api--smb9w7tyzdrk.code.run"
    base-uri: "https://reqfol.fly.dev"
    headers: {
      "X-Reroute-To": "https://www.flannels.com"
      "Accept-Encoding": "*/*"
    }
  }
}

stock-monitor {
  flannels {
    delay-between-requests: 30s
    monitoring-frequency: 6m
    monitoring-requests: [
      {search-criteria: {query: "stone island", category: "men", filters: {min-discount: 30}}, monitor-stock-change: false, monitor-price-change: true}
    ]
    filters: {exclude: ["size (xl|xxl|l|xs|\\b[1-7]\\b|\\d+Y)"]}
  }

  selfridges {
    delay-between-requests: 30s
    monitoring-frequency: 6m
    monitoring-requests: [
      {search-criteria: {query: "stone-island", filters: {min-discount: 29}}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {query: "emporio armani", filters: {min-discount: 44}}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {query: "kenzo", filters: {min-discount: 49}}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {query: "moncler", filters: {min-discount: 10}}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {query: "hugo", filters: {min-discount: 48}}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {query: "boss", filters: {min-discount: 48}}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {query: "diesel", filters: {min-discount: 48, "include": ["jeans"]}}, monitor-stock-change: false, monitor-price-change: true}
    ]
    filters: {exclude: ["size (3[1-9]R|(\\d)?xl|xxl|xxxl|l|\\b[1-8]\\b|1\\d|\\d+Y)"]}
  }

  jdsports {
    delay-between-requests: 45s
    monitoring-frequency: 6m
    monitoring-requests: [
      {search-criteria: {category: "men", query: "Emporio Armani EA7"}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {category: "men", query: "Boss"}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {category: "men", query: "boss-loungewear"}, monitor-stock-change: false, monitor-price-change: true}
      {search-criteria: {category: "men", query: "Hugo"}, monitor-stock-change: false, monitor-price-change: true}
    ]
    filters: {exclude: ["size (\\d+(l|s)|3[1-9]R|(\\d)?xl|xxl|xxxl|l|\\b[1-8]\\b|1\\d|\\d+Y)", "mini crossbody", "\\bcap\\b"], min-discount: 49}
  }

  cex {
    monitoring-frequency: 10m
    monitoring-requests: [
      //{search-criteria: {query: "Apple iPad Pro 11 3rd Gen (A2377) 128GB", filters: {"include": ["WiFi A"]}}, monitor-stock-change: true, monitor-price-change: true}
      //{search-criteria: {query: "Apple iPad Pro 11 3rd Gen (A2377) 128GB", filters: {exclude: ["WiFi A"]}}, monitor-stock-change: false, monitor-price-change: true}
    ]
  }
}

deals-finder {
//  ebay {
//    search-frequency: 60s
//    search-requests: [
//      {search-criteria: {query: "PS4", item-kind: "video-game"}, min-margin: 25, max-quantity: 10}
//    ]
//    delay-between-requests: 10s
//  }
}